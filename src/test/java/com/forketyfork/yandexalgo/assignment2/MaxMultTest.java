package com.forketyfork.yandexalgo.assignment2;

import java.util.List;
import java.util.stream.Stream;
import lombok.AllArgsConstructor;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.MethodSource;

import static org.assertj.core.api.Assertions.assertThat;

class MaxMultTest {

    @AllArgsConstructor
    private static class TestCase {

        private final List<Integer> numbers;
        private final List<Integer> expected;

    }

    public static Stream<TestCase> source() {
        return Stream.of(
                new TestCase(List.of(4, 3, 5, 2, 5), List.of(5, 5)),
                new TestCase(List.of(-4, 3, -5, 2, 5), List.of(-5, -4)),
                new TestCase(List.of(12288,
                        -10075,
                        29710,
                        15686,
                        -18900,
                        -17715,
                        15992,
                        24431,
                        6220,
                        28403,
                        -23148,
                        18480,
                        -22905,
                        5411,
                        -7602,
                        15560,
                        -26674,
                        11109,
                        -4323,
                        6146,
                        -1523,
                        4312,
                        10666,
                        -15343,
                        -17679,
                        7284,
                        20709,
                        -7103,
                        24305,
                        14334,
                        -12281,
                        17314,
                        26061,
                        25616,
                        17453,
                        16618,
                        -24230,
                        -19788,
                        21172,
                        11339,
                        2202,
                        -22442,
                        -20997,
                        1879,
                        -8773,
                        -8736,
                        5310,
                        -23372,
                        12621,
                        -25596,
                        -28609,
                        -13309,
                        -13,
                        10336,
                        15812,
                        -21193,
                        21576,
                        -1897,
                        -12311,
                        -6988,
                        -25143,
                        -3501,
                        23231,
                        26610,
                        12618,
                        25834,
                        -29140,
                        21011,
                        23427,
                        1494,
                        15215,
                        23013,
                        -15739,
                        8325,
                        5359,
                        -12932,
                        18111,
                        -72,
                        -12509,
                        20116,
                        24390,
                        1920,
                        17487,
                        25536,
                        24934,
                        -6784,
                        -16417,
                        -2222,
                        -16569,
                        -25594,
                        4491,
                        14249,
                        -28927,
                        27281,
                        3297,
                        5998,
                        6259,
                        4577,
                        12415,
                        3779,
                        -8856,
                        3994,
                        19941,
                        11047,
                        2866,
                        -24443,
                        -17299,
                        -9556,
                        12244,
                        6376,
                        -13694,
                        -14647,
                        -22225,
                        21872,
                        7543,
                        -6935,
                        17736,
                        -2464,
                        9390,
                        1133,
                        18202,
                        -9733,
                        -26011,
                        13474,
                        29793,
                        -26628,
                        -26124,
                        27776,
                        970,
                        14277,
                        -23213,
                        775,
                        -9318,
                        29014,
                        -5645,
                        -27027,
                        -21822,
                        -17450,
                        -5,
                        -655,
                        22807,
                        -20981,
                        16310,
                        27605,
                        -18393,
                        914,
                        7323,
                        599,
                        -12503,
                        -28684,
                        5835,
                        -5627,
                        25891,
                        -11801,
                        21243,
                        -21506,
                        22542,
                        -5097,
                        8115,
                        178,
                        10427,
                        25808,
                        10836,
                        -11213,
                        18488,
                        21293,
                        14652,
                        12260,
                        42,
                        21034,
                        8396,
                        -27956,
                        13670,
                        -296,
                        -757,
                        18076,
                        -15597,
                        4135,
                        -25222,
                        -19603,
                        8007,
                        6012,
                        2704,
                        28935,
                        16188,
                        -20848,
                        13502,
                        -11950,
                        -24466,
                        5440,
                        26348,
                        27378,
                        7990,
                        -11523,
                        -26393), List.of(29710, 29793)),
                new TestCase(List.of(806068,
                        -973833,
                        -496946,
                        120531,
                        -496285,
                        -514409,
                        403157,
                        288183,
                        648979,
                        454081,
                        417186,
                        881450,
                        995889,
                        179321,
                        86312,
                        -477207,
                        973167,
                        -603566,
                        -704564,
                        -762163,
                        867728,
                        -540094,
                        -177876,
                        65393,
                        -98627,
                        -629314,
                        58525,
                        346780,
                        753479,
                        -841734,
                        -387588,
                        -253856,
                        680750,
                        -870906,
                        -148629,
                        -225193,
                        65222,
                        8154,
                        -472749,
                        32524,
                        632191,
                        -909447,
                        732827,
                        -849532,
                        220250,
                        -780333,
                        -921993,
                        -958784,
                        300502,
                        -832736,
                        941985,
                        700131,
                        -442549,
                        -75775,
                        -592216,
                        263727,
                        -602717,
                        -690756,
                        837711,
                        274640,
                        796052,
                        814797,
                        587408,
                        -36689,
                        -756296,
                        -748314,
                        -737,
                        504035,
                        -847432,
                        -843902,
                        746492,
                        -90768,
                        831755,
                        495544,
                        438022,
                        -170587,
                        834461,
                        727368,
                        -416068,
                        -876437,
                        333038,
                        320627,
                        -349790,
                        281818,
                        -586075,
                        650363,
                        -173897,
                        985645,
                        404137,
                        -84546,
                        -502310,
                        -924692,
                        595249,
                        612314,
                        -611085,
                        -486332,
                        -751214,
                        964721,
                        -89797,
                        -310781,
                        394355,
                        877889,
                        683864,
                        -519521,
                        -291085,
                        -601315,
                        -819632,
                        240180,
                        -839526,
                        730126,
                        -157625,
                        -474177,
                        313412,
                        527006,
                        -668292,
                        -671367,
                        925836,
                        13439,
                        476773,
                        989777,
                        -467750,
                        330900,
                        -780399,
                        -386517,
                        -146028,
                        370857,
                        332567,
                        -235076,
                        -953979,
                        -381685,
                        623601,
                        54643,
                        605531,
                        894894,
                        711050,
                        -818896,
                        -332571,
                        -846844,
                        -309825,
                        -331329,
                        462725,
                        -4132,
                        621440,
                        -947889,
                        95547,
                        117172,
                        340887,
                        262416,
                        -74613,
                        -407858,
                        -376428,
                        -691072,
                        -626056,
                        -646212,
                        41650,
                        -493720,
                        414456,
                        -278816,
                        883954,
                        801559,
                        253114,
                        45537,
                        961176,
                        -617907,
                        -329756,
                        443100,
                        390626,
                        -161359,
                        537998,
                        -301196,
                        -565863,
                        141384,
                        -141269,
                        181400,
                        -810015,
                        -701539,
                        -609431,
                        206184,
                        716964,
                        398807,
                        740280,
                        811788,
                        613628,
                        520364,
                        99228,
                        24216,
                        754902,
                        752426,
                        -237256,
                        -328305,
                        -410744,
                        16516,
                        796517,
                        -79963,
                        836309,
                        -720364,
                        62147,
                        -55492,
                        -44796,
                        -180987,
                        484433,
                        199289,
                        -901073,
                        -972428,
                        658312,
                        51856,
                        -945776,
                        -34375,
                        -649745,
                        -55480,
                        781454,
                        -551519,
                        -76418,
                        -590475,
                        -284947,
                        518558,
                        -323514,
                        -845371,
                        693172,
                        784953,
                        276231,
                        453665,
                        804986,
                        -543447,
                        -256163,
                        -709666,
                        -122209,
                        360076,
                        -797659,
                        -372383,
                        -469242,
                        -377725,
                        522478,
                        372894,
                        -782145,
                        303746,
                        95494,
                        -581416,
                        852014,
                        978204,
                        -844672,
                        -230579,
                        -710123,
                        505994,
                        674199,
                        343689,
                        316064,
                        349867,
                        993894,
                        -850208,
                        -563825,
                        805047,
                        598609,
                        -723137,
                        129011,
                        -220646,
                        -414203,
                        505331,
                        -389306,
                        809056,
                        -225609,
                        -586351,
                        -871350,
                        12475,
                        606235,
                        108880,
                        576368,
                        -55705,
                        -441954,
                        150383,
                        242643,
                        168978,
                        43975,
                        -404662,
                        -245801,
                        569824,
                        734389,
                        293296,
                        882138,
                        984171,
                        644563,
                        46981,
                        827274,
                        658540,
                        696269,
                        -895920,
                        510514,
                        699811,
                        83875,
                        675341,
                        992133,
                        926881,
                        354790,
                        -861129,
                        -205327,
                        -617397,
                        -242251,
                        -27433,
                        155209,
                        -283129,
                        106483,
                        -611734,
                        500913,
                        605337,
                        -832217,
                        -695820,
                        580771,
                        352259,
                        -141623,
                        -869711,
                        431769,
                        -546827,
                        804921,
                        -194646,
                        -795054,
                        403731,
                        976070,
                        -179461,
                        -132974,
                        -70562,
                        775349,
                        744304,
                        918961,
                        -785111,
                        353474,
                        270204,
                        510341,
                        62237,
                        696547,
                        -676605,
                        9747,
                        -498896,
                        -493350,
                        -876279,
                        -324331,
                        -898994,
                        657727,
                        709814,
                        -849819,
                        -214416,
                        -891836,
                        684467,
                        -495082,
                        94499,
                        55508,
                        -875150,
                        -722819,
                        -624880,
                        -291836,
                        712062,
                        -471644,
                        -635492,
                        -145814,
                        553497,
                        46963,
                        -963268,
                        -639165,
                        266143,
                        836068,
                        695032,
                        779666,
                        30718,
                        169305,
                        -404196,
                        486467,
                        -356885,
                        -753246,
                        -793794,
                        663192,
                        -791890,
                        958549,
                        -391571,
                        836676,
                        -489978,
                        -798867,
                        -801889,
                        -92889,
                        435054,
                        -209791,
                        44414,
                        574743,
                        287936,
                        341433,
                        477103,
                        92275,
                        936434,
                        147771,
                        364232,
                        -88317,
                        -435596,
                        -491908,
                        -882242,
                        -653492,
                        316513,
                        332117,
                        874890,
                        -764062,
                        977352,
                        -90017,
                        674446,
                        931772,
                        406977,
                        -895280,
                        806725,
                        -495002,
                        -4217,
                        786171,
                        -699236,
                        -232817,
                        109753,
                        430098,
                        -815744,
                        353338,
                        422166,
                        455439,
                        912074,
                        948550,
                        361470,
                        -81099,
                        -827960,
                        343109,
                        54622,
                        412920,
                        83112,
                        957473,
                        -767716,
                        322700,
                        949842,
                        -599487,
                        -429107,
                        983471,
                        987099,
                        -463842,
                        -679099,
                        -349690,
                        -185931,
                        867263,
                        351922,
                        772408,
                        636275,
                        -741121,
                        -149192,
                        653465,
                        -708922,
                        -606391,
                        -10823,
                        142695,
                        932088,
                        -432338,
                        -576811,
                        -244594,
                        -905738,
                        -267137,
                        558434,
                        -399619,
                        191929,
                        -337055,
                        585561,
                        -14885,
                        -597415,
                        183691,
                        -618268,
                        -701603,
                        217564,
                        -681285,
                        -493712,
                        877235,
                        910481,
                        782647,
                        -780843,
                        398724,
                        -594925,
                        592687,
                        812495,
                        697780,
                        434176,
                        32475,
                        33733,
                        -156412,
                        -544750,
                        805206,
                        628934,
                        -708499,
                        -416756,
                        133213,
                        605340,
                        230025,
                        311462,
                        212210,
                        522754,
                        810339,
                        -857313,
                        -37998,
                        141076,
                        204915,
                        -681263,
                        -479707,
                        -912005,
                        -627900,
                        166628,
                        -837393,
                        92344,
                        -937995,
                        -358489,
                        -741454,
                        500196,
                        360479,
                        805256,
                        -859950,
                        -151412,
                        129716,
                        728212,
                        598644,
                        990323,
                        608148,
                        -622982,
                        450457,
                        55115,
                        250492,
                        416286,
                        21677,
                        174172,
                        -664702,
                        -832233,
                        310413,
                        -366716,
                        727272,
                        605373,
                        -457898,
                        -864675,
                        -890997,
                        -9306,
                        786901,
                        -837735,
                        454824,
                        -511937,
                        120547,
                        193948,
                        -776056,
                        -779913,
                        -361259,
                        657482,
                        666506,
                        -659717,
                        963430,
                        75556,
                        -248295,
                        862251,
                        655206,
                        -544832,
                        951521,
                        465160,
                        125880,
                        -177187,
                        350368,
                        -102926,
                        -324980,
                        604300,
                        -409388,
                        778383,
                        -635083,
                        -499801,
                        -676674,
                        -277568,
                        -812755,
                        969110,
                        508795,
                        467309,
                        -811213,
                        216734,
                        940890,
                        -23882,
                        840918,
                        -631739,
                        902253,
                        -517398,
                        -880461,
                        279209,
                        333243,
                        743666,
                        -414891,
                        -669515,
                        -718002,
                        952761,
                        53740,
                        -768056,
                        -589957,
                        30197,
                        -443774,
                        -385200,
                        203127,
                        718454,
                        604057,
                        432877,
                        -182282,
                        591051,
                        -928051,
                        -462178,
                        -314805,
                        496577,
                        -298414,
                        922090,
                        -571565,
                        805123,
                        77426,
                        744140,
                        -916085,
                        -272660,
                        -706461,
                        -815712,
                        -401017,
                        -662728,
                        857067,
                        -233439,
                        -10331,
                        -466487,
                        673504,
                        -829815,
                        366702,
                        -773318,
                        248563,
                        820033,
                        934426,
                        112709,
                        -712548,
                        -17576,
                        -199426,
                        215337,
                        186597,
                        960530,
                        44675,
                        -336567,
                        -204307,
                        566484,
                        67955,
                        -538246,
                        -854557,
                        -435621,
                        -43601,
                        -326272,
                        -853564,
                        -590688,
                        146221,
                        -195889,
                        -118100,
                        -642881,
                        -407638,
                        -825744,
                        -322951,
                        471921,
                        -764142,
                        579088,
                        462429,
                        184557,
                        133126,
                        -414103,
                        -245971,
                        376464,
                        -619,
                        642697,
                        -956639,
                        360811,
                        -800887,
                        -603990,
                        -708194,
                        -313625,
                        -64677,
                        -573227,
                        -431478,
                        564358,
                        191333,
                        -845828,
                        418306,
                        -624314,
                        -885164,
                        993195,
                        547498,
                        -673930,
                        121265,
                        -878030,
                        316972,
                        -746404,
                        -166858,
                        -731194,
                        834274,
                        865948,
                        827537,
                        -681809,
                        445257,
                        -785612,
                        -985113,
                        176464,
                        610846,
                        224425,
                        -858730,
                        863682,
                        -948740,
                        613288,
                        -401701,
                        -12666,
                        -964076,
                        -825732,
                        -346113,
                        372254,
                        412151,
                        -401734,
                        676137,
                        159611,
                        52755,
                        -351699,
                        587445,
                        899167,
                        -413688,
                        -162100,
                        -314777,
                        853964,
                        -959828,
                        528408,
                        -750163,
                        -165964,
                        137327,
                        -446459,
                        396004,
                        933877,
                        919089,
                        -720886,
                        780351,
                        351045,
                        558263,
                        313292,
                        -978689,
                        -754423,
                        138077,
                        -120807,
                        519092,
                        315679,
                        -905307,
                        -86909,
                        190518,
                        71151,
                        994528,
                        -831381,
                        -542592,
                        798536,
                        -672422,
                        981726,
                        636207,
                        -772245,
                        470051,
                        559841,
                        -240955,
                        -991580,
                        -446105,
                        -320989,
                        -765922,
                        721372,
                        627198,
                        125374,
                        -715848,
                        458378,
                        978118,
                        266655,
                        67343,
                        -521580,
                        -581139,
                        570445,
                        595773,
                        611299,
                        162311,
                        -563022,
                        607266,
                        895414,
                        314548,
                        -495263,
                        979747,
                        -343745,
                        202072,
                        -14337,
                        -102767,
                        -712417,
                        962659,
                        53361,
                        -586539,
                        188492,
                        123787,
                        -110562,
                        509486,
                        -250039,
                        772420,
                        859307,
                        -190917,
                        -324632,
                        -78470,
                        293772,
                        -247787,
                        673027,
                        -573066,
                        -209231,
                        -615568,
                        614060,
                        -3420,
                        -740624,
                        -819086,
                        -34087,
                        256315,
                        281829,
                        854331,
                        599732,
                        870120,
                        -84626,
                        939523,
                        -613466,
                        -394752,
                        742473,
                        76572,
                        -132012,
                        529934,
                        423075,
                        52585,
                        -829970,
                        -767463,
                        -748551,
                        -331773,
                        -781852,
                        74402,
                        -730855,
                        741229,
                        -220017,
                        907312,
                        706367,
                        -604536,
                        33640,
                        -885741,
                        -611625,
                        677512,
                        -536490,
                        328874,
                        -620480,
                        671714,
                        -922106,
                        -520224,
                        706320,
                        62381,
                        416388,
                        745496,
                        511632,
                        -69964,
                        -542065,
                        232678,
                        -77037,
                        -916480,
                        -169350,
                        588931,
                        575469,
                        738811,
                        107401,
                        -689762,
                        522052,
                        306399,
                        156952,
                        238116,
                        -679512,
                        -522249,
                        -554632,
                        915968,
                        302888,
                        -128579,
                        583020,
                        -608657,
                        992002,
                        -723762,
                        802484,
                        -25620,
                        -899401,
                        753543,
                        -121712,
                        689435,
                        -733223,
                        -580548,
                        -823832,
                        933181,
                        239787,
                        667927,
                        -319564,
                        -938567,
                        -916578,
                        -899707,
                        -225438,
                        920788,
                        559659,
                        428151,
                        778055,
                        309172,
                        872367,
                        886157,
                        468790,
                        601364,
                        377860,
                        179433,
                        420350,
                        -992983,
                        -395454,
                        -743733,
                        -933424,
                        -441035,
                        -462807,
                        520533,
                        -355049,
                        318764,
                        557433,
                        -333970,
                        559437,
                        774735,
                        85609,
                        71442,
                        244503,
                        -824144,
                        483659,
                        894924,
                        562257,
                        -666655,
                        795761,
                        265181,
                        -608164,
                        -471368,
                        -463565,
                        -140204,
                        -732437,
                        -812890,
                        733631,
                        -185628,
                        -216068,
                        213557,
                        776236,
                        -798677,
                        439600,
                        119087,
                        -491001,
                        -254982,
                        957882,
                        -587807,
                        -638976,
                        -82002,
                        -879486,
                        -721354,
                        291558,
                        764601,
                        252335,
                        -486080,
                        -641563,
                        -297174,
                        -150526,
                        -886108,
                        -472612,
                        -847751,
                        49462,
                        942243,
                        887639,
                        -474031,
                        371605,
                        192911,
                        305482,
                        -771766,
                        -988053,
                        -806898,
                        333334,
                        -522577,
                        -262423,
                        -426597,
                        270600,
                        -121852,
                        -219746,
                        -278017,
                        -691984,
                        -293105,
                        674170,
                        -298301,
                        -840439,
                        -134457,
                        825396,
                        -437915,
                        -190573,
                        -526546,
                        288896,
                        261990,
                        590935,
                        -775185,
                        -513606,
                        143726,
                        822239,
                        54896,
                        -318799,
                        -190453,
                        -541441,
                        474137,
                        975716,
                        499552,
                        448229,
                        -105539,
                        -569033), List.of(994528, 995889)), // test 011
                new TestCase(List.of(1, 0), List.of(0, 1)), // test 023
                new TestCase(List.of(1, -1), List.of(-1, 1)) // test 024

        );
    }

    @ParameterizedTest
    @MethodSource("source")
    void test(TestCase testCase) {
        assertThat(MaxMult.maxMult(testCase.numbers)).isEqualTo(testCase.expected);
    }

}
